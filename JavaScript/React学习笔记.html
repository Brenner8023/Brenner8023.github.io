<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>简介 | Brenner 的博客</title>
    <meta name="description" content="和优秀的人一起做有挑战的事情">
    
    
    <link rel="preload" href="/assets/css/0.styles.02f3cbf6.css" as="style"><link rel="preload" href="/assets/js/app.18b512f8.js" as="script"><link rel="preload" href="/assets/js/17.4c8bc3d2.js" as="script"><link rel="prefetch" href="/assets/js/10.6a472c88.js"><link rel="prefetch" href="/assets/js/11.0dfac5fc.js"><link rel="prefetch" href="/assets/js/12.01d570cc.js"><link rel="prefetch" href="/assets/js/13.1b702662.js"><link rel="prefetch" href="/assets/js/14.39a44f7e.js"><link rel="prefetch" href="/assets/js/15.d4c4a96e.js"><link rel="prefetch" href="/assets/js/16.b7178f5f.js"><link rel="prefetch" href="/assets/js/18.27ecc706.js"><link rel="prefetch" href="/assets/js/19.908ca30a.js"><link rel="prefetch" href="/assets/js/2.261f2f14.js"><link rel="prefetch" href="/assets/js/20.e5afd0a8.js"><link rel="prefetch" href="/assets/js/21.853b4127.js"><link rel="prefetch" href="/assets/js/22.3472f22c.js"><link rel="prefetch" href="/assets/js/23.845fbf4e.js"><link rel="prefetch" href="/assets/js/24.f0c38727.js"><link rel="prefetch" href="/assets/js/25.f842b56d.js"><link rel="prefetch" href="/assets/js/26.80b85751.js"><link rel="prefetch" href="/assets/js/27.6b95f728.js"><link rel="prefetch" href="/assets/js/28.68eb111a.js"><link rel="prefetch" href="/assets/js/29.75fec1e4.js"><link rel="prefetch" href="/assets/js/3.a8e82b78.js"><link rel="prefetch" href="/assets/js/30.daf25779.js"><link rel="prefetch" href="/assets/js/31.6657cff8.js"><link rel="prefetch" href="/assets/js/32.d7f5797e.js"><link rel="prefetch" href="/assets/js/33.4393b7e9.js"><link rel="prefetch" href="/assets/js/34.78cc6182.js"><link rel="prefetch" href="/assets/js/35.19103457.js"><link rel="prefetch" href="/assets/js/36.6e37d809.js"><link rel="prefetch" href="/assets/js/37.964fd51c.js"><link rel="prefetch" href="/assets/js/4.d0e73dee.js"><link rel="prefetch" href="/assets/js/5.acaa3c84.js"><link rel="prefetch" href="/assets/js/6.1542d958.js"><link rel="prefetch" href="/assets/js/7.54b95edf.js"><link rel="prefetch" href="/assets/js/8.6937ff09.js"><link rel="prefetch" href="/assets/js/9.dae9dc01.js">
    <link rel="stylesheet" href="/assets/css/0.styles.02f3cbf6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Brenner 的博客</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">技术文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Stack/2019.1.2.html" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">Node.js</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">小程序</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">Web渗透</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">React Native</a></li></ul></div></div><div class="nav-item"><a href="/guide/" class="nav-link">关于我</a></div><div class="nav-item"><a href="https://github.com/brenner8023/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">技术文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Stack/2019.1.2.html" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">Node.js</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">小程序</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">Web渗透</a></li><li class="dropdown-item"><!----> <a href="/React/router.html" class="nav-link">React Native</a></li></ul></div></div><div class="nav-item"><a href="/guide/" class="nav-link">关于我</a></div><div class="nav-item"><a href="https://github.com/brenner8023/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>简介</span> <!----></p> <ul class="sidebar-group-items"></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="简介"><a href="#简介" aria-hidden="true" class="header-anchor">#</a> 简介</h1> <blockquote><p>参考来源:
官网: <a href="https://zh-hans.reactjs.org/" target="_blank" rel="noopener noreferrer">https://zh-hans.reactjs.org/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
react小书: <a href="https://github.com/huzidaha/react-naive-book" target="_blank" rel="noopener noreferrer">https://github.com/huzidaha/react-naive-book<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>React是facebook在2013年开源在github上的javascript库. React把用户界面抽象成一个个组件, 如按钮组件button, 对话框组件Dialog, 日期组件Calendar. 开发者通过组合这些组件, 最终得到功能丰富, 可交互的界面.</p> <p>创造React是为了构建随着时间数据不断变化的大规模应用程序. 正如官方的描述一样, React结合了效率不低的virtual dom渲染技术, 让构建可组合的组件的思路可行. 我们只需要关注组件自身的逻辑, 复用与测试.</p> <p><strong>virtual dom</strong><br>在前端开发中, 性能消耗最大的就是DOM操作, 而且这部分代码会让整体项目的代码变得难以维护. react把真实dom转换成javascript对象树, 也就是virtual dom.<br>每次数据更新后, 重新计算virtual dom, 并和上一次生成的virtual dom做对比, 对发生变化的部分做批量更新.</p> <p>react通过创建与更新虚拟元素来管理整个virtual dom. 虚拟元素可以理解为真实元素的对应, 它的创建与更新都是在内存中完成的, 并不会真正渲染到dom中去. 虚拟元素可以分为两类, dom元素和组件元素, 分别对应着原生dom元素与自定义元素.</p> <p>react高效的原因</p> <ol><li>虚拟DOM</li> <li>DOM diff算法, 最小化页面重绘</li></ol> <p>全家桶</p> <ol><li>vue全家桶: vue-cli/vue/vue-router/vuex/axios/element-ui</li> <li>react全家桶: create-react-app/react/react-dom/react-router/redux/react-redux/axios/ant-design/dva/saga/mobx</li></ol> <p><strong>react</strong>: React框架的核心部分, 提供了Component类供我们进行组件开发, 提供了钩子函数(生命周期函数)<br><strong>react-dom</strong>: 把jsx语法渲染为真实的DOM</p> <p><strong>脚手架create-react-app</strong><br>安装</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install <span class="token operator">-</span>g create<span class="token operator">-</span>react<span class="token operator">-</span>app

create<span class="token operator">-</span>react<span class="token operator">-</span>app react<span class="token operator">-</span>study
</code></pre></div><p>自己修改脚手架</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm run eject

<span class="token comment">// 修改为https协议和9000端口</span>
<span class="token keyword">set</span> <span class="token constant">HTTPS</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">&amp;&amp;</span><span class="token constant">PORT</span><span class="token operator">=</span><span class="token number">9000</span><span class="token operator">&amp;&amp;</span>npm run start
</code></pre></div><p><a name="JSX"></a></p> <h1 id="jsx"><a href="#jsx" aria-hidden="true" class="header-anchor">#</a> JSX</h1> <p><a name="cddff118"></a></p> <h3 id="jsx原理"><a href="#jsx原理" aria-hidden="true" class="header-anchor">#</a> jsx原理</h3> <p>如何用js对象来表现一个DOM元素的结构</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>box<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>content<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>title<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>Click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>每一个DOM元素包含的信息其实只有三个: 标签名, 属性, 子元素</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  tag<span class="token punctuation">:</span> <span class="token string">'div'</span><span class="token punctuation">,</span>
  attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span> className<span class="token punctuation">:</span> <span class="token string">'box'</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token string">'content'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      tag<span class="token punctuation">:</span> <span class="token string">'div'</span><span class="token punctuation">,</span>
      arrts<span class="token punctuation">:</span> <span class="token punctuation">{</span> className<span class="token punctuation">:</span> <span class="token string">'title'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      tag<span class="token punctuation">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
      attrs<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Click'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>基于babel中的babel-preset-react把jsx语法编译为React.createElement(type, props, children)结构<br>编译过程会把jsx语法转换成JavaScript的对象结构</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span>
<span class="token keyword">import</span> <span class="token string">'./index.css'</span>

<span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
     React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
        <span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span>
        <span class="token keyword">null</span><span class="token punctuation">,</span>
        React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
          <span class="token string">&quot;h1&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> className<span class="token punctuation">:</span> <span class="token string">'title'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;React 小书&quot;</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>Header<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="https://user-gold-cdn.xitu.io/2019/5/23/16ae443808585c02?w=738&h=292&f=png&s=56947" alt="image.png"></p> <p><a name="4c788a1a"></a></p> <h3 id="语法规则"><a href="#语法规则" aria-hidden="true" class="header-anchor">#</a> 语法规则</h3> <ul><li>标签一定要闭合</li> <li>标签首字母小写对应dom元素, 大写首字母对应组件元素</li> <li>class改为className, for改为htmlFor</li> <li>要使用html自定义属性, 需要用data-前缀</li> <li><Checkbox checked="checked"></Checkbox>可以简写为<Checkbox checked="checked"></Checkbox></li> <li><Checkbox checked="checked"></Checkbox>可以省略checked属性
</li> <li>在jsx中必须使用小驼峰的形式书写事件的属性名(比如onClick)</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> component <span class="token operator">=</span> <span class="token operator">&lt;</span>Component name<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>name<span class="token punctuation">}</span> value<span class="token operator">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>value<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token comment">// 可以写成:</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> component <span class="token operator">=</span> <span class="token operator">&lt;</span>Component <span class="token punctuation">{</span><span class="token operator">...</span>data<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p>html转义字符<br>react会将所有要显示到dom的字符串转义, 防止xss, 如果jsx中含有转义后的实体字符, 比如© 则react自动把其中的特殊字符转义了. 解决方法如下:</p> <ol><li>直接使用utf-8字符</li> <li>使用对应字符的unicode编码</li> <li>使用数组封装<div>{['cc', <span>©</span>, '2015']}</div></li> <li>直接插入原始的html</li></ol> <p>ReactDOM.render([jsx], [container], [callback])<br>callback当把内容渲染到页面中时触发的回调函数</p> <p><a name="bb79667f"></a></p> <h1 id="组件"><a href="#组件" aria-hidden="true" class="header-anchor">#</a> 组件</h1> <p><a name="dXuPi"></a></p> <h3 id="创建组件"><a href="#创建组件" aria-hidden="true" class="header-anchor">#</a> 创建组件</h3> <p>React.createClass, es6 class, 无状态函数</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> Greeting <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	render<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  	<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Greeting</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Greeting</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="https://user-gold-cdn.xitu.io/2019/5/23/16ae4438091a540b?w=981&h=447&f=png&s=40935" alt="image.png"></p> <p>组件可以接受参数, 也可能有自身状态. 一旦接收到的参数或自身状态有所改变, react组件就会执行相应的生命周期方法, 最后渲染.</p> <p><a name="state"></a></p> <h3 id="state"><a href="#state" aria-hidden="true" class="header-anchor">#</a> state</h3> <ul><li>不要直接修改state, 应该使用setState()</li> <li>当你调用setState时, react并不会马上修改state, 而是把这个对象放到一个更新队列里面, 稍后才会从队列当中把新的状态提取出来合并到state中, 然后再触发组件更新.</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Clock</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>date<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token keyword">return</span> <span class="token punctuation">(</span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">hello</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">tolocaleTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="props"></a></p> <h3 id="props"><a href="#props" aria-hidden="true" class="header-anchor">#</a> props</h3> <p>数据是向下流动的, 不管是父组件还是子组件都无法知道某个组件是有状态的还是无状态的.<br>组件可以选择把它的state作为props向下传递到它的子组件中</p> <p>props是react用来让组件之间互相联系的一种机制, react的单向数据流, 主要的流动管道就是props.<br>props是只读的, 当我们试图修改props的值时, react会报出类型错误</p> <p><strong>默认配置defaultProps</strong><br>通过静态变量defaultProps来定义props对象的默认值</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>liked<span class="token punctuation">:</span><span class="token string">&quot;点赞&quot;</span><span class="token punctuation">,</span> unliked<span class="token punctuation">:</span><span class="token string">&quot;取消&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>children<br>在react中有一个内置的prop, 就是children. children代表组件的子组件集合</p> <p>propTypes类型检测</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install prop<span class="token operator">-</span>types

<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span>

<span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
	a<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
  b<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>func
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="refs"></a></p> <h3 id="refs"><a href="#refs" aria-hidden="true" class="header-anchor">#</a> refs</h3> <p>ref={(node) =&gt; {this.node = node}}<br>此时ref的属性值是一个函数, 当元素在页面上挂载完成之后, react.js就会调用这个函数, 并且把这个挂载以后的DOM节点传给这个函数.</p> <p>ref=&quot;xx&quot;<br>this.refs.xx</p> <p><a name="6241a818"></a></p> <h1 id="生命周期-钩子函数"><a href="#生命周期-钩子函数" aria-hidden="true" class="header-anchor">#</a> 生命周期(钩子函数)</h1> <p>描述一个组件或者程序从创建到销毁的过程, 我们可以在过程中间基于钩子函数完成一些自己的操作</p> <p><strong>当组件挂载或卸载时</strong><br>react.js将组件渲染, 并且构造DOM元素然后塞入页面的过程称为组件的<strong>挂载</strong><br><strong><br><strong>更新阶段</strong><br>setState方法导致React.js重新渲染组件并且把组件的变化应用到DOM元素上的过程, 这是一个组件的变化过程.<br></strong></p> <ul><li>constructor创建一个组件</li> <li>componentWillMount渲染之前</li> <li>render渲染, 在组件的render方法返回null并不会影响组件的生命周期</li> <li>componentDidMount渲染之后</li> <li>componentWillUnmount卸载前状态</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Clock</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
	<span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	
	<span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>date<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
	
	<span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timeID<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

	<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token keyword">this</span><span class="token punctuation">.</span>timeID <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">tick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token comment">// 使用setState()来更新组件状态</span>
	<span class="token function-variable function">tick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    	date<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token keyword">return</span> <span class="token punctuation">(</span>
    	<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      	<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      	<span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">tolocaleTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>componentWillReceiveProps(nextProps): 组件从父组件接收到新的props之前调用</li> <li>shouldComponentUpdate(nextProps, nextState)是否允许向下执行生命周期方法, 返回false组件就不会重新渲染</li> <li>componentWillUpdate(nextProps, nextState)组件重新渲染之前</li> <li>render重新渲染</li> <li>componentDidUpdate(prevProps, prevState)重新渲染之后</li></ul> <p>如果组件是由父组件更新props而更新的, 那么在shouldComponentUpdate之前会先执行componentWillReceiveProps方法.<br><img src="https://user-gold-cdn.xitu.io/2019/5/23/16ae44380932d47a?w=1193&h=762&f=png&s=136599" alt="image.png"></p> <p>对于异步渲染, 现在渲染有两个阶段: reconciliation和commit. 前者的过程是可以被打断的, 后者不能暂停, 会一直更新界面直到完成.</p> <p>reconciliation阶段</p> <ul><li>componentWillMount</li> <li>componentWillReceiveProps</li> <li>shouldComponentUpdate</li> <li>componentWillUpdate</li></ul> <p>commit阶段</p> <ul><li>componentDidMount</li> <li>componentDidUpdate</li> <li>componentWillUnmount</li></ul> <p>因为reconciliation阶段是可以被打断的, 所以reconciliation阶段执行的生命周期函数就可能会出现调用多次的情况. react16也引入了新的API来解决这个问题<br>getDerivedStateFromProps用于替换componentWillReceiveProps<br>getSnapshotBeforeUpdate用于替换componentWillUpdate</p> <p><a name="7083b76e"></a></p> <h1 id="react事件机制"><a href="#react事件机制" aria-hidden="true" class="header-anchor">#</a> react事件机制</h1> <p><a name="f9f34d17"></a></p> <h3 id="syntheticevent合成事件"><a href="#syntheticevent合成事件" aria-hidden="true" class="header-anchor">#</a> SyntheticEvent合成事件</h3> <p>react并没有使用原生的浏览器事件, 而是在基于virtual DOM的基础上实现了合成事件(SyntheticEvent), 事件处理程序接收到的是合成事件的实例. 合成事件完全符合w3c的标准, 因此在事件层次上具有浏览器兼容性</p> <blockquote><p>支持的事件: <a href="https://zh-hans.reactjs.org/docs/events.html#supported-events" target="_blank" rel="noopener noreferrer">https://zh-hans.reactjs.org/docs/events.html#supported-events<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <ul><li>合成事件的命名采用小驼峰, 而不是纯小写</li> <li>在react中你不能通过返回false阻止事件的默认行为, 必须显式地使用preventDefault()</li> <li>react事件并没有绑定在真实的DOM上, 而是使用了行为委托方式实现事件机制</li> <li>合成事件的监听只能用在普通的html标签上, 而不能用在组件标签上</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">ActionLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  	e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Click me</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="613cf536"></a></p> <h1 id="组件通信"><a href="#组件通信" aria-hidden="true" class="header-anchor">#</a> 组件通信</h1> <blockquote><p>参考来源: <a href="https://segmentfault.com/a/1190000012361461" target="_blank" rel="noopener noreferrer">https://segmentfault.com/a/1190000012361461<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>父组件向子组件通信<br>react数据流动是单向的, 父组件通过props向子组件传递信息</p> <p>子组件向父组件通信</p> <p>跨级组件通信</p> <ul><li>层层传递props</li> <li>使用全局变量context</li></ul> <p>没有嵌套关系的组件之间的通信</p> <p><a name="redux"></a></p> <h1 id="redux"><a href="#redux" aria-hidden="true" class="header-anchor">#</a> redux</h1> <p>redux是javascript的状态管理容器<br>安装<code>npm install --save react-redux redux</code><br><img src="https://user-gold-cdn.xitu.io/2019/5/23/16ae4438096be5c0?w=1852&h=744&f=png&s=364379" alt="image.png"><br></p> <p>createStore()</p> <ul><li>dispatch()派发行为</li> <li>subscribe()事件池追加方法</li> <li>getState()获取最新的管理状态信息</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span>store<span class="token punctuation">:</span> <span class="token punctuation">{</span>getState<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>n<span class="token punctuation">,</span> m<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>n<span class="token punctuation">,</span> m<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">let</span> <span class="token punctuation">{</span>store<span class="token punctuation">:</span> <span class="token punctuation">{</span>getState<span class="token punctuation">,</span> subscribe<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
  <span class="token keyword">let</span> unsubscribe <span class="token operator">=</span> <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  	<span class="token keyword">let</span> <span class="token punctuation">{</span>n<span class="token punctuation">,</span> m<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>setState <span class="token operator">=</span> <span class="token punctuation">{</span>n<span class="token punctuation">,</span> m<span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span>store<span class="token punctuation">:</span> <span class="token punctuation">{</span>dispatch<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
<span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">'SUPPORT'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>支持<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre></div><p>reducer</p> <ul><li>reducer只是一个接收state和action, 并返回新的state的函数.</li> <li>记录了所有状态修改的信息</li> <li>修改容器中的状态信息</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token operator">=</span><span class="token punctuation">{</span>m<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">switch</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'SUPPORT'</span><span class="token punctuation">:</span>
      state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>state<span class="token punctuation">,</span> n<span class="token punctuation">:</span> state<span class="token punctuation">.</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'AGAINST'</span><span class="token punctuation">:</span>
      state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>state<span class="token punctuation">,</span> m<span class="token punctuation">:</span>state<span class="token punctuation">.</span>m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> state<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> state<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="bf748223"></a></p> <h1 id="高阶组件"><a href="#高阶组件" aria-hidden="true" class="header-anchor">#</a> 高阶组件</h1> <p>高阶组件就是一个函数, 传给它一个组件, 它返回一个新的组件</p> <p><a name="7zDad"></a></p> <h1 id="服务器端渲染"><a href="#服务器端渲染" aria-hidden="true" class="header-anchor">#</a> 服务器端渲染</h1> <p>服务器端渲染: 后端先调用数据库, 获得数据后, 将数据和页面元素进行拼装, 组合成完整的html页面, 再直接返回给浏览器.<br>客户端渲染: 数据由浏览器通过ajax动态取得, 再通过js将数据填充到dom元素上最终展示到网页中.</p> <p>对比</p> <ol><li>服务器端渲染需要消耗更多的服务器端资源</li> <li>客户端渲染可以将静态资源部署到cdn上, 实现高并发</li> <li>服务器端渲染对SEO更加友好</li></ol> <p>renderToString<br>将react组件转化为对应的html代码, 但是不会转化onClick等行为事件<br><img src="https://user-gold-cdn.xitu.io/2019/5/23/16ae44380987e42d?w=638&h=505&f=png&s=256204" alt="image.png"></p> <p><a name="react-swipe"></a></p> <h1 id="react-swipe"><a href="#react-swipe" aria-hidden="true" class="header-anchor">#</a> react-swipe</h1> <p>npm install swipe-js-iso react-swipe</p> <p><a name="react-router"></a></p> <h1 id="react-router"><a href="#react-router" aria-hidden="true" class="header-anchor">#</a> react-router</h1> <ul><li>react-router: 提供了一些router的核心api, 包括Router, Route, Switch等</li> <li>react-router-dom: 提供了BrowerRouter, HashRouter, Route, Link, NavLink</li></ul> <p>BrowserRouter浏览器路由<br>基于html5的history api来保持UI和url的同步</p> <p>HashRouter哈希路由<br>依据相同的页面地址, 不同的哈希值, 来规划当前页面中的哪一个组件呈现渲染</p> <p>exact表示严格匹配url地址</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code>npm install <span class="token operator">-</span><span class="token constant">S</span> react<span class="token operator">-</span>router<span class="token operator">-</span>dom

<span class="token keyword">import</span> <span class="token punctuation">{</span>HashRouter<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Switch<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HashRouter</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>/<span class="token punctuation">'</span></span> <span class="token attr-name">exact</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>/a<span class="token punctuation">'</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token constant">A</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>/user<span class="token punctuation">'</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token constant">B</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>/pay<span class="token punctuation">'</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">404</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>/<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HashRouter</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><a name="ant-design"></a></p> <h1 id="ant-design"><a href="#ant-design" aria-hidden="true" class="header-anchor">#</a> ant-design</h1> <p>npm install antd</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.18b512f8.js" defer></script><script src="/assets/js/17.4c8bc3d2.js" defer></script>
  </body>
</html>
